<style type="text/css">
                                div.main {
                                    margin: 0;
                                    padding: 0;
                                }
                                div.main2 {
                                    height: 100%;
                                    font-size: 62.5%
                                }
                                div.main3 {
                                    height: 100%;
                                    background-color: #FFFFFF;
                                    font: 1.2em Verdana, Arial, Helvetica, sans-serif;
                                }
                                form {
                                    margin: 25px 0 0 29px;                                    
                                    padding-bottom: 30px;
                                }
                                fieldset {
                                    margin: 0 0 22px 0;
                                    border: 1px solid #A33200;
                                    padding: 12px 17px;
                                    background-color: #FFE1D3;
                                }
                                legend {
                                    font-size: 1.2em;
                                    background-color: #A33200;
                                    color: #FFFFFF;
                                    font-weight: bold;
                                    padding: 4px 8px;
                                }
                                label.float {
                                    font-size: 0.9em;
                                    float: left;
                                    width: 250px;
                                    margin: 4px 0 0 0;
                                    clear: left;
                                }
                                label {
                                    display: block;
                                    width: auto;
                                    margin: 0 0 10px 0;
                                }
                                label.spam-protection {
                                    display: inline;
                                    width: auto;
                                    margin: 0;
                                }
                                
                                input.inp-error{
                                    border: 4px solid #A41600;
                                    padding: 3px;
                                    width: 100px;
                                    margin: 0 0 8px 0;
                                }
    
                                input.inp-text{
                                    border: 1px solid #909090;
                                    padding: 3px;
                                    width: 100px;
                                    margin: 0 0 8px 0;
                                }
                                
                                input.submit-button {
                                    font: 0.95em Georgia, "Times New Roman", Times, serif;
                                    letter-spacing: 2px;
                                    float:left;                                    
                                    margin: 5px 0 0 0;
                                    background-color: #A33200;
                                }
                                input.submit-reset {
                                    font: 0.95em Georgia, "Times New Roman", Times, serif;
                                    letter-spacing: 2px;
                                    float:left;                                    
                                    margin: 0 2px 0 0;
                                    background-color: #696969;
                                }
                                div.error-box{
                                    font: 1.0em Georgia, "Times New Roman", Times, serif;
                                    border: 1px solid #909090;
                                    height: 300px;
                                    width: 200px;
                                    float : right;
                                    background-color: #FF9999;
                                    margin: 5px;
                                    padding: 5px;
                                }
                                form br {
                                    display: none;
                                }
                            </style>
<div class="main">
<div class="main2">
<div class="main3">
<form name="dcfform" action="" method="post">
<fieldset>
<legend>DCF Calculator :</legend>
<p>
                                                    <label for="fcf" class="float"><strong>Initial Cash flow :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="fcf-name" id="fcf" type="text" size="10" />    
                                                </p>
    <div id="dcferrbox"></div>
<p>
                                                    <label for="gr1" class="float"><strong>Growth Rate (1-5 Years) :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="gr1-name" id="gr1" type="text" size="10" />
                                                </p>
<p>
                                                    <label for="gr2" class="float"><strong>Growth Rate (6-10 Years) :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="gr2-name" id="gr2" type="text" size="10" />
                                                </p>
<p>
                                                    <label for="dr" class="float"><strong>Discount Rate :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="dr-name" id="dr" type="text" size="10" />
                                                </p>
<p>
                                                    <label for="tgr" class="float"><strong>Terminal Growth Rate :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="tgr-name" id="tgr" type="text" size="10" /></p>
<p>
                                                    <label for="so" class="float"><strong>Shares Outstanding :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="so-name" id="so" type="text" size="10" /></p>
<p>
                                                    <label for="debt" class="float"><strong>Net Debt :</strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="debt-name" id="debt" type="text" size="10" /></p>
<p>
                                                    <label for="dcfval" class="float"><strong>DCF Value per share = </strong><br />
                                                    </label><br />
                                                    <input class="inp-text" name="dcfval-name" id="dcfval" readonly="true" type="text" size="10" /></p>
<p>                                                <input class="submit-reset" type="button" alt="Reset" name="Reset" value="Reset" onClick="resetdcf()"/><br />
                                                <input class="submit-button" type="button" alt="SUBMIT" name="Submit" value="Calculate" onClick="calculatedcf()"/><br />
                                            </fieldset>
</p>
</form>
</div>
</div>
</div>

<script type='text/javascript'>
    function resetdcf() {
        try {
            document.getElementsByName('dcfform')[0].reset();
        } catch (e) {
            alert('error 3 : ' + e);
        }
    }

    function calculatedcf() {
        
        var flag = true;
        var errorString = '';
        var fcfRegex = /^[0-9]+$/;  
        var grRegex = /^[0-9]+$/;  
        var sharesRegex = /^[0-9]+$/;  
        var debtRegex = /^-?[0-9]+$/;          
        
        if(!document.getElementById('fcf').value.match(fcfRegex)) {              
            errorString += 'Please enter a Valid FCF value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('gr1').value.match(grRegex)) {              
            errorString += 'Please enter a Valid growth rate (1-5 year) value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('gr2').value.match(grRegex)) {              
            errorString += 'Please enter a Valid growth rate (6-10 year) value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('tgr').value.match(grRegex)) {              
            errorString += 'Please enter a Valid Terminal Growth Rate value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('dr').value.match(grRegex)) {              
            errorString += 'Please enter a Valid Discount Rate value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('so').value.match(sharesRegex)) {              
            errorString += 'Please enter a Valid Outstanding shares value. <br/>';
            flag = false;
        }
        
        if(!document.getElementById('debt').value.match(debtRegex)) {              
            errorString += 'Please enter a Valid Net Debt value. <br/>';
            flag = false;
        }
        
        if(!flag){
            alert(errorString);
            return;
        }
        
        var fcf = document.getElementById('fcf').value;
        var growthRate1 = document.getElementById('gr1').value;
        var growthRate2 = document.getElementById('gr2').value;
        var discRate = document.getElementById('dr').value;
        var termGrowthRate = document.getElementById('tgr').value;
        var shares = document.getElementById('so').value;
        var debt = document.getElementById('debt').value;

        var fcf1 = (fcf * (1 + growthRate1 / 100)).toFixed(0);
        var fcf2 = (fcf1 * (1 + growthRate1 / 100)).toFixed(0);
        var fcf3 = (fcf2 * (1 + growthRate1 / 100)).toFixed(0);
        var fcf4 = (fcf3 * (1 + growthRate1 / 100)).toFixed(0);
        var fcf5 = (fcf4 * (1 + growthRate1 / 100)).toFixed(0);

        var fcf6 = (fcf5 * (1 + growthRate2 / 100)).toFixed(0);
        var fcf7 = (fcf6 * (1 + growthRate2 / 100)).toFixed(0);
        var fcf8 = (fcf7 * (1 + growthRate2 / 100)).toFixed(0);
        var fcf9 = (fcf8 * (1 + growthRate2 / 100)).toFixed(0);
        var fcf10 = (fcf9 * (1 + growthRate2 / 100)).toFixed(0);

        var pv1 = (fcf1 / (1 + discRate / 100)).toFixed(0);
        var pv2 = (fcf2 / Math.pow((1 + discRate / 100), 2)).toFixed(0);
        var pv3 = (fcf3 / Math.pow((1 + discRate / 100), 3)).toFixed(0);
        var pv4 = (fcf4 / Math.pow((1 + discRate / 100), 4)).toFixed(0);
        var pv5 = (fcf5 / Math.pow((1 + discRate / 100), 5)).toFixed(0);
        var pv6 = (fcf6 / Math.pow((1 + discRate / 100), 6)).toFixed(0);
        var pv7 = (fcf7 / Math.pow((1 + discRate / 100), 7)).toFixed(0);
        var pv8 = (fcf8 / Math.pow((1 + discRate / 100), 8)).toFixed(0);
        var pv9 = (fcf9 / Math.pow((1 + discRate / 100), 9)).toFixed(0);
        var pv10 = (fcf10 / Math.pow((1 + discRate / 100), 10)).toFixed(0);

        var tyval = parseInt(fcf10 * (1 + termGrowthRate / 100));
        var totalPV = parseInt(pv1) + parseInt(pv2) + parseInt(pv3) + parseInt(pv4) + parseInt(pv5) + parseInt(pv6) + parseInt(pv7) + parseInt(pv8) + parseInt(pv9) + parseInt(pv10);
        var totalTV = ((parseInt(tyval) / ((discRate - termGrowthRate) / 100)) / Math.pow((1 + discRate / 100), 10)).toFixed(0);
        var totalVal = parseInt(totalPV) + parseInt(totalTV);
        var dcfval = parseInt((parseInt(totalVal) - debt) / (shares));

        document.getElementById('dcfval').value = dcfval;
    }
</script>